(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(t,e,n){t.exports=n(73)},39:function(t,e,n){},40:function(t,e,n){},70:function(t,e){},73:function(t,e,n){"use strict";n.r(e);var c=n(0),o=n.n(c),a=n(28),i=n.n(a),r=(n(39),n(29)),l=n(30),s=n(32),u=n(33),d=(n(40),n(31)),f=n.n(d),m=window.location.hostname,h="localhost"===m?3e3:"",x=window.location.protocol,g="".concat(x,"//").concat(m,":").concat(h),v=f.a.connect(g),b=function(t){Object(u.a)(n,t);var e=Object(s.a)(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).getCoords=function(e){var n=e.fromTime,c=e.toTime,o=e.fromX,a=e.toX,i=e.fromY,r=e.toY,l=c-n,s=t.time-n;if(s<l){var u=l/s;return{x:o+(a-o)/u,y:i+(r-i)/u}}return{x:a,y:r}},t.canvasClick=function(e){t.loading=!0;var n=t.state,c=n.currentCube,o=n.cubes,a=e.pageX,i=e.pageY,r=o.find((function(t){return t.id===c}));if(r){var l=t.getCoords(r),s={fromX:l.x,fromY:l.y,toX:a-50,toY:i-50};v.emit("click",{id:c,data:s})}},t.drawLoop=function(){if(!t.loading){var e=t.state,n=e.cubes,c=e.currentCube;t.time=Date.now(),t.ctx.beginPath(),t.ctx.fillStyle="black",t.ctx.rect(0,0,t.c.width,t.c.height),t.ctx.fill(),n.forEach((function(e){var n=t.getCoords(e),o=n.x,a=n.y;t.ctx.beginPath(),t.ctx.fillStyle=t.colors[e.id],t.ctx.rect(o,a,100,100),t.ctx.fill(),e.id===c&&(t.ctx.beginPath(),t.ctx.lineWidth=7,t.ctx.strokeStyle="red",t.ctx.rect(o,a,100,100),t.ctx.stroke()),t.ctx.beginPath(),t.ctx.fillStyle="white",t.ctx.font="30px Arial",t.ctx.fillText(e.name,o,a+45),t.ctx.fill()}))}requestAnimationFrame(t.drawLoop)},t.time=Date.now(),t.state={cubes:[],currentCube:1},t.c=null,t.ctx=null,t.colors=["red","orange","green"],t.loading=!0,t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.c=document.getElementById("canvas"),this.ctx=this.c.getContext("2d"),v.on("click",(function(e){t.setState({cubes:e}),t.loading=!1})),requestAnimationFrame(this.drawLoop)}},{key:"render",value:function(){var t=this,e=this.state,n=e.cubes,c=e.currentCube;return o.a.createElement("div",null,o.a.createElement("canvas",{onClick:this.canvasClick,width:1500,height:700,id:"canvas"}),o.a.createElement("br",null),n.map((function(e){var n=e.id===c?"select":"";return o.a.createElement("div",{style:{backgroundColor:t.colors[e.id]},onClick:function(){t.setState({currentCube:e.id})},className:"type ".concat(n),key:e.id},e.name)})))}}]),n}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.50db1978.chunk.js.map